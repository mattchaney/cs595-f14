\section{Question 2}

\subsection{Question}
\begin{verbatim}
Write a Python program that:
  1. takes one argument, like "Old Dominion" or "Virginia Tech"
  2. takes another argument specified in seconds (e.g., "60" for 
     one minute).
  3. takes a URI as a third argument: 
     http://sports.yahoo.com/college-football/scoreboard/
     or
     http://sports.yahoo.com/college-football/scoreboard/?week=2&conf=all
     or
     http://sports.yahoo.com/college-football/scoreboard/?week=1&conf=72
     etc.
  4. dereferences the URI, finds the game corresponding to the team
     argument, prints out the current score (e.g., "Old Dominion 27, 
     East Carolina 17), sleeps for the specified seconds, and then
     repeats (until control-C is hit).
\end{verbatim}

\subsection{Resources}
I used BeautifulSoup and Requests to write a bot that plays the game \url{http://www.kingdomofloathing.com/}.
Code for which can be found @ \url{http://www.github.com/mattchaney/meatmachine/}.
Both of these modules were useful for this assignment. 

\begin{itemize}
\item Requests: \url{http://docs.python-requests.org/en/latest/}
\item BeautifulSoup: \url{http://www.crummy.com/software/BeautifulSoup/bs4/doc/}
\end{itemize}

\subsection{Source}
\lstset{
	language=Python,
}
\begin{lstlisting}
#!/usr/bin/env python

import sys
import requests
import time
import re
from bs4 import BeautifulSoup

if __name__ == "__main__":
	if len(sys.argv) != 4:
		print "Usage:\n\tpython getscore.py [school] [seconds] [uri]\n"
		sys.exit()
	school = sys.argv[1]
	period = float(sys.argv[2])
	uri = sys.argv[3]
	while True:
		soup = BeautifulSoup(requests.get(uri).content)
		gametag = soup.find('em', text=re.compile('^'+school+'$'))
		if not gametag:
			print "Game not found"
			sys.exit()
		game = gametag.parent.parent.parent
		teams = [game.find_all('span', {'class':'team'})[0].em.text, game.find_all('span', {'class':'team'})[1].em.text]
		scores = [game.find('span', {'class':'away'}).text, game.find('span', {'class':'home'}).text]
		print teams[0] + ' ' + scores[0] + ', ' + teams[1] + ' ' + scores[1]
		time.sleep(period)
\end{lstlisting}

\subsection{Answer}
\lstset{
	language=Bash,
}
\begin{lstlisting}
[mchaney@mchaney-d q2]$ python getscore.py "Texas A&M" 10 "http://sports.yahoo.com/college-football/scoreboard/"
Texas A&M 52, South Carolina 28
Texas A&M 52, South Carolina 28
^CTraceback (most recent call last):
  File "getscore.py", line 26, in <module>
    time.sleep(period)
KeyboardInterrupt
[mchaney@mchaney-d q2]$ python getscore.py "alskds" 5 "http://sports.yahoo.com/college-football/scoreboard/"
Game not found
[mchaney@mchaney-d q2]$ python getscore.py "Texas A&M" "http://sports.yahoo.com/college-football/scoreboard/"
Usage:
	python getscore.py [school] [period] [uri]

[mchaney@mchaney-d q2]$
\end{lstlisting}